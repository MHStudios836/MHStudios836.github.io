---
permalink: /DoD_Login_Style.html
---
<!DOCTYPE HTML>
<html lang="en">
	<head>
		<title>MH Studios™ | Operative Access</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="stylesheet" href="assets/css/fontawesome-all.min.css" />
		<link rel="icon" type="image/x-icon" href="images/Logo_1.png">
		
		<style>
			/* ==========================================================================
			   THEME: TACTICAL OPS (VIDEO BACKDROP)
			   ========================================================================== */
			:root {
				--mh-blue: #0080FF;
				--mh-cyan: #00e5ff;
				--mh-dark: #05070a;
				--mh-glass: rgba(13, 17, 23, 0.9);
				--mh-red: #ff004c;
				--mh-green: #00ff41;
			}

			body {
				margin: 0;
				padding: 0;
				background-color: #000;
				color: #fff;
				font-family: 'Uni Sans', sans-serif;
				height: 100vh;
				overflow: hidden;
				display: flex;
				justify-content: center;
				align-items: center;
			}

			/* VIDEO BACKGROUND */
			#video-bg {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				object-fit: cover;
				z-index: -1;
				opacity: 0.4;
				filter: contrast(1.2) brightness(0.8);
			}

			/* OVERLAY SCANLINES */
			.scanlines {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
				background-size: 100% 2px, 3px 100%;
				z-index: 0;
				pointer-events: none;
			}

			/* --- MAIN INTERFACE CONTAINER --- */
			.secure-interface {
				position: relative;
				z-index: 10;
				width: 450px; /* Kept your original width */
				background: rgba(5, 7, 10, 0.85);
				border: 1px solid var(--mh-blue);
				backdrop-filter: blur(15px);
				box-shadow: 0 0 40px rgba(0, 128, 255, 0.15);
				padding: 0;
				display: flex;
				flex-direction: column;
				transition: 0.3s all ease;
				overflow: hidden;
			}

			/* HEADER */
			.interface-header {
				background: rgba(0, 128, 255, 0.1);
				padding: 15px 20px;
				border-bottom: 1px solid var(--mh-blue);
				display: flex;
				justify-content: space-between;
				align-items: center;
			}
			.interface-title {
				font-size: 0.9rem;
				letter-spacing: 2px;
				color: var(--mh-cyan);
				text-shadow: 0 0 10px var(--mh-cyan);
			}
			.status-light {
				width: 8px;
				height: 8px;
				background-color: var(--mh-green);
				border-radius: 50%;
				box-shadow: 0 0 10px var(--mh-green);
				animation: blink 2s infinite;
			}

			/* CONTENT BODY */
			.interface-body {
				padding: 30px;
			}

			.input-group {
				position: relative;
				margin-bottom: 25px;
			}
			
			.input-group i {
				position: absolute;
				left: 15px;
				top: 50%;
				transform: translateY(-50%);
				color: var(--mh-blue);
				font-size: 1rem;
				transition: 0.3s;
			}

			.tac-input {
				width: 100%;
				background: rgba(0, 0, 0, 0.6);
				border: 1px solid #333;
				padding: 15px 15px 15px 45px; /* Space for icon */
				color: #fff;
				font-family: 'Courier New', monospace;
				font-size: 0.9rem;
				letter-spacing: 1px;
				transition: 0.3s;
				outline: none;
				box-sizing: border-box;
			}

			.tac-input:focus {
				border-color: var(--mh-cyan);
				box-shadow: 0 0 15px rgba(0, 229, 255, 0.1);
				background: rgba(0, 0, 0, 0.8);
			}
			.tac-input:focus + i {
				color: var(--mh-cyan);
			}

			/* ACTION BUTTONS */
			.action-btn {
				width: 100%;
				padding: 15px;
				background: var(--mh-blue);
				border: none;
				color: #fff;
				font-family: 'Uni Sans', sans-serif;
				font-weight: bold;
				letter-spacing: 2px;
				cursor: pointer;
				clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px);
				transition: 0.3s;
				text-transform: uppercase;
				margin-top: 10px;
			}
			.action-btn:hover {
				background: var(--mh-cyan);
				color: #000;
				box-shadow: 0 0 30px var(--mh-cyan);
			}

			/* --- NEW: OAUTH & HELPERS --- */
			.divider {
				display: flex;
				align-items: center;
				text-align: center;
				margin: 20px 0;
				color: #555;
				font-size: 0.7rem;
				letter-spacing: 1px;
			}
			.divider::before, .divider::after {
				content: '';
				flex: 1;
				border-bottom: 1px solid #333;
			}
			.divider span { padding: 0 10px; }

			.oauth-grid {
				display: grid;
				grid-template-columns: 1fr 1fr 1fr;
				gap: 10px;
				margin-bottom: 20px;
			}
			.oauth-btn {
				background: rgba(255, 255, 255, 0.05);
				border: 1px solid #333;
				padding: 10px;
				color: #ccc;
				cursor: pointer;
				transition: 0.3s;
				display: flex;
				justify-content: center;
				align-items: center;
				font-size: 1.2rem;
			}
			.oauth-btn:hover {
				border-color: var(--mh-cyan);
				color: var(--mh-cyan);
				background: rgba(0, 229, 255, 0.1);
			}

			.helper-links {
				display: flex;
				justify-content: space-between;
				margin-top: 15px;
				font-size: 0.75rem;
				font-family: 'Courier New', monospace;
			}
			.helper-links span {
				color: #666;
				cursor: pointer;
				text-decoration: none;
				transition: 0.3s;
			}
			.helper-links span:hover { color: var(--mh-cyan); text-decoration: underline; }

			/* FOOTER TERMINAL */
			.terminal-footer {
				background: rgba(0,0,0,0.8);
				padding: 10px 20px;
				border-top: 1px solid #333;
				font-family: 'Courier New', monospace;
				font-size: 0.7rem;
				color: #555;
				display: flex;
				justify-content: space-between;
			}
			#status-log { color: var(--mh-green); }

			/* UTILITIES */
			.hidden { display: none; }
			@keyframes blink { 0% {opacity:1;} 50% {opacity:0.3;} 100% {opacity:1;} }
		</style>
	</head>
	<body>

		<video id="video-bg" autoplay muted loop playsinline>
			<source src="images/video.mp4" type="video/mp4">
		</video>
		<div class="scanlines"></div>

		<div class="secure-interface">
			
			<div class="interface-header">
				<div class="interface-title">MH STUDIOS™ // AUTH</div>
				<div class="status-light"></div>
			</div>

			<div class="interface-body">
				
				<div id="login-view">
					<form id="login-form">
						<div class="input-group">
							<i class="fas fa-id-card"></i>
							<input type="email" id="login-email" class="tac-input" placeholder="OPERATIVE ID (EMAIL)" required>
						</div>
						<div class="input-group">
							<i class="fas fa-lock"></i>
							<input type="password" id="login-pass" class="tac-input" placeholder="ACCESS CODE" required>
						</div>
						
						<button type="submit" class="action-btn">INITIATE LINK</button>
					</form>

					<div class="divider"><span>OR AUTHENTICATE VIA</span></div>
					<div class="oauth-grid">
						<button class="oauth-btn" id="google-btn" title="Google"><i class="fab fa-google"></i></button>
						<button class="oauth-btn" title="Twitter (Disabled)"><i class="fab fa-twitter"></i></button>
						<button class="oauth-btn" title="GitHub (Disabled)"><i class="fab fa-github"></i></button>
					</div>

					<div class="helper-links">
						<span onclick="resetPassword()">FORGOT PASSWORD?</span>
						<span onclick="toggleView('register')">NEW RECRUIT? APPLY HERE</span>
					</div>
				</div>

				<div id="register-view" class="hidden">
					<form id="register-form">
						<div class="input-group">
							<i class="fas fa-user"></i>
							<input type="text" id="reg-name" class="tac-input" placeholder="FULL DESIGNATION" required>
						</div>
						<div class="input-group">
							<i class="fas fa-envelope"></i>
							<input type="email" id="reg-email" class="tac-input" placeholder="CONTACT CHANNEL" required>
						</div>
						<div class="input-group">
							<i class="fas fa-key"></i>
							<input type="password" id="reg-pass" class="tac-input" placeholder="SET PASSCODE" required>
						</div>
						<div class="input-group">
							<i class="fas fa-briefcase"></i>
							<select id="reg-role" class="tac-input" style="padding-left: 45px;">
								<option value="student">ACADEMIC (Student)</option>
								<option value="freelancer">OPERATIVE (Freelancer)</option>
							</select>
						</div>

						<button type="submit" class="action-btn">SUBMIT RECORD</button>
					</form>
					
					<div class="helper-links" style="justify-content: center;">
						<span onclick="toggleView('login')"><< RETURN TO LOGIN</span>
					</div>
				</div>

			</div>

			<div class="terminal-footer">
				<div>SYS.VER.5.2</div>
				<div id="status-log">> READY</div>
			</div>

		</div>

		<script src="assets/js/jquery.min.js"></script>
		
		<script type="module">
			import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
			import { 
				getAuth, 
				createUserWithEmailAndPassword, 
				signInWithEmailAndPassword, 
				sendPasswordResetEmail,
				GoogleAuthProvider,
				signInWithPopup
			} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
			import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

			// --- CONFIGURATION ---
			const firebaseConfig = {
				apiKey: "{{ env.FIREBASE_API_KEY }}",
				authDomain: "mhstudios-836.firebaseapp.com",
				projectId: "mhstudios-836",
				storageBucket: "mhstudios-836.firebasestorage.app",
				messagingSenderId: "37422473204",
				appId: "1:37422473204:web:71e846067b57b983c51634"
			};

			const app = initializeApp(firebaseConfig);
			const auth = getAuth(app);
			const db = getFirestore(app);
			const appId = 'mh_studios_web_v1'; // Preserved from your original code

			function typeStatus(text, color) {
				const log = $('#status-log');
				log.css('color', color).text(text);
			}

			// --- 1. LOGIN HANDLER ---
			$('#login-form').on('submit', async (e) => {
				e.preventDefault();
				const email = $('#login-email').val();
				const pass = $('#login-pass').val();

				typeStatus("> AUTHENTICATING...", "#00e5ff");

				try {
					await signInWithEmailAndPassword(auth, email, pass);
					typeStatus("> ACCESS GRANTED.", "#00ff41");
					$('.secure-interface').css('border-color', '#00ff41');
					
					// DELAY FOR EFFECT THEN REDIRECT
					setTimeout(() => {
						window.location.href = 'Admin_Room.html';
					}, 1500);

				} catch (error) {
					console.error(error);
					let errorMsg = error.code ? error.code.replace('auth/', '').toUpperCase() : "CONNECTION FAILED";
					typeStatus("> ERROR: " + errorMsg, "#ff004c");
					$('.secure-interface').css('border-color', '#ff004c');
				}
			});

			// --- 2. GOOGLE OAUTH HANDLER (NEW) ---
			$('#google-btn').on('click', async () => {
				const provider = new GoogleAuthProvider();
				typeStatus("> CONNECTING TO GOOGLE...", "#00e5ff");
				
				try {
					const result = await signInWithPopup(auth, provider);
					// You can save user data here if needed, but for now we just redirect
					typeStatus("> GOOGLE VERIFIED.", "#00ff41");
					setTimeout(() => {
						window.location.href = 'Admin_Room.html';
					}, 1000);
				} catch (error) {
					console.error(error);
					typeStatus("> LINK FAILED.", "#ff004c");
				}
			});

			// --- 3. FORGOT PASSWORD HANDLER (NEW) ---
			window.resetPassword = async () => {
				const email = prompt("ENTER YOUR OPERATIVE EMAIL FOR RESET LINK:");
				if(email) {
					try {
						await sendPasswordResetEmail(auth, email);
						alert("RESET LINK DISPATCHED TO: " + email);
						typeStatus("> RESET EMAIL SENT.", "#00e5ff");
					} catch(error) {
						alert("ERROR: " + error.message);
					}
				}
			};

			// --- 4. REGISTER HANDLER (PRESERVED) ---
			$('#register-form').on('submit', async (e) => {
				e.preventDefault();
				const name = $('#reg-name').val();
				const email = $('#reg-email').val();
				const pass = $('#reg-pass').val();
				const role = $('#reg-role').val();

				typeStatus("> GENERATING OPERATIVE ID...", "#fff");

				try {
					const userCredential = await createUserWithEmailAndPassword(auth, email, pass);
					const user = userCredential.user;

					// PRESERVED YOUR EXACT DATABASE PATH
					await setDoc(doc(db, 'artifacts', appId, 'users', user.uid), {
						name: name,
						email: email,
						role: role,
						joined: new Date().toISOString(),
						credits: 0,
						status: 'active'
					});

					typeStatus("> PROFILE INITIALIZED.", "#00ff41");
					setTimeout(() => {
						window.location.href = 'Admin_Room.html';
					}, 1500);

				} catch (error) {
					console.error(error);
					typeStatus("> REGISTRATION FAILED: " + error.code, "#ff004c");
				}
			});

			// UI TOGGLE
			window.toggleView = (view) => {
				if(view === 'register') {
					$('#login-view').addClass('hidden');
					$('#register-view').removeClass('hidden');
					$('.interface-title').text('MH STUDIOS™ // NEW RECRUIT');
				} else {
					$('#register-view').addClass('hidden');
					$('#login-view').removeClass('hidden');
					$('.interface-title').text('MH STUDIOS™ // AUTH');
				}
			};
		</script>
	</body>
</html>